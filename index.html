<!DOCTYPE html>
<html lang="en" ng-app="myApp">
    <head>
        <title>CS701 Final Project - Slechta</title>

        <script src="./js/angular182.js"></script>
        <script src="finalController.js"></script>
        <link rel="stylesheet" href="./css/final.css">
    </head>

    <body ng-controller="FinalController">
        <h1>ConLang Dictionary Manager</h1>
        <div>
            <h3>Word Generator</h3>
            <a href="#wordList">Skip to Word List</a>
            <button ng-click="generateWords()">
                Generate Words
            </button>
        </div>
        <table id="wordList">
            <caption>My Words</caption>
            <thead>
                <tr>
                    <th>Lemma</th>
                    <th>Definition</th>
                    <th>Category</th>
                    <th>Word Check</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="word in words">
                    <td>{{word.lemma}}</td>
                    <td>{{word.definition}}</td>
                    <td>{{word.category}}</td>
                    <td>
                        <button ng-click="checkWord($index)">
                            Check This Word
                        </button>
                    </td>
                    <td>
                        <button ng-click="deleteWord($index)">
                            Delete This Word
                        </button>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td>
                        <button ng-click="addWord()">
                            New Word
                        </button>
                    </td>
                    <td>
                        <button ng-click="saveList()">
                            Browser Save
                        </button>
                    </td>
                    <td>
                        <button ng-click="saveFile()">
                            Download Save
                        </button>
                    </td>
                    <td>
                        <input type="file" id="fileUpload" name="fileUpload"/>
                    </td>
                    <td>
                        <button ng-click="uploadFile()">
                            Upload Saved File
                        </button>
                    </td>
                </tr>
            </tfoot>
        </table>
        <table>
            <caption>Word Check Results</caption>
            <thead>
                <tr>
                    <th>Word/Lemma:</th>
                    <th>Link:</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="result in results">
                    <td>{{result.lemma}}</td>
                    <td>
                        <a href={{result.link}}>
                            {{result.link}}
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </body>

    <dialog id="addDialog">
        <p>Enter a word, a definition, and a category:</p>
        <label>
            Word/Lemma:
            <input autofocus ng-model="newWord.lemma" size="20">
        </label>
        <label>
            Definition:
            <input ng-model="newWord.definition" size="20">
        </label>
        <label>
            Category:
            <input ng-model="newWord.category" size="20">
        </label>
        <button ng-click="confirmAdd()">
            Add This Word
        </button>
        <button ng-click="cancelAdd()">
            Nevermind
        </button>
    </dialog>

    <dialog id="downloadDialog">
        <p>Copy and paste the following text into a .txt file:</p>
        <p>{{downloadText}}</p>
        <button ng-click="closeDownload()">
            Close
        </button>
    </dialog>
</html>